<?php 

    use Embryo\Application\Application as App;

    /**
     * ------------------------------------------------------------
     * SETTINGS	
     * ------------------------------------------------------------
     */
    
    $settings = require_once ROOT_PATH.'boot/settings.php';

    /**
     * ------------------------------------------------------------
     * APPLICATION
     * ------------------------------------------------------------
     */

    $app = new App($settings);

    /**
     * ------------------------------------------------------------
     * SERVICES
     * ------------------------------------------------------------
     */

    require_once ROOT_PATH.'boot/services.php';

    /**
     * ------------------------------------------------------------
     * MIDDLEWARE
     * ------------------------------------------------------------
     */
    
    require_once ROOT_PATH.'boot/middleware.php';

    /**
     * ------------------------------------------------------------
     * ROUTES
     * ------------------------------------------------------------
     */

    require_once ROOT_PATH.'routes/app.php';
    require_once ROOT_PATH.'routes/group.php';
    require_once ROOT_PATH.'routes/controller.php';

    /**
     * ------------------------------------------------------------
     * RUN APPLICATION
     * ------------------------------------------------------------
     */

    return $app;